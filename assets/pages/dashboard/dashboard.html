<div class="container-fluid">
  <div class="row">
    <div class="col-12 title-head dash-head">
      <h3>Hello, <span class="fullname">Ganesh Gopalan</span>! </h3>
      <p>Manage your day to day tasks with style! Enjoy a well built UI system</p>
    </div>
  </div>  
  <div class="row">
    <div class="col-12 title-head mb-2">
      <h4>Tasks <dfn data-info="Lorem ipsum dolor sit amet, perspiciatis consectetur dolor."><i class="fas fa-info-circle"></i></dfn></h4>
      <span class="d-none nbtn">
      <p class="vmore"><a href="#">View All</a></p>
      </span> </div>
  </div>
  <div class="white-bg col-md-12">
    <div class="container-fluid p-0">
      <div class="col-12 p-3 pb-0">
      <div class="row">
        <div class="col-lg-6 col-md-6">
          <div class="searchbar">
            <h4>List of Tasks </h4>
          </div>
        </div>
        <div class="col-lg-6 col-md-6 top-btn">
          <div class="row">
            <div class="col-lg-6 col-md-6">
              <div class="topsearch relative">
                <input class="form-control form-control-dark w-100" type="text" placeholder="Search here" aria-label="Search">
                <i class="fas fa-search"></i> </div>
            </div>
            <div class="col-lg-3 col-md-3">
              <div class="dropdown-select">
                <select class="sort-select">
                  <option value="Course1">Course</option>
                  <option value="Course2">Course1</option>
                  <option value="Course3">Course2</option>
                  <option value="Course4">Course3</option>
                </select>
              </div>
            </div>
            <div class="col-lg-3 col-md-3">
              <div class="dropdown-select">
                <select class="form-control sort-select">
                  <option value="Recent">Status</option>
                  <option value="New">New</option>
                  <option value="Active">Active</option>
                  <option value="Completed">Completed</option>
                  <option value="Onhold">Onhold</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div>
      <div class="tabs white-bg p-3 mt-3">
        <input type="radio" name="tabs" id="tabone" checked="checked">
        <label for="tabone">Assigned To</label>
        <div class="tab p-0">
          <div class="table-section">
            <table class="table table-bordered responsive">
              <thead>
                <tr>
                  <th>
                    <div class="form-check">
                      <input class="form-check-input parentcheck" name="chk" type="checkbox" value="flexCheckDefault1" id="myCheck" onClick="selects()">
                      <label class="form-check-label" for="myCheck"> </label>
                    </div>
                  </th>
                  <th>TASK ID</th>
                  <th>NAME OF THE TASK</th>
                  <th>ASSIGNED TO</th>
                  <th>END DATE</th>
                  <th>STATUS</th>
                  <th class="text-center">ACTIONS</th>
                </tr>
              </thead>
              <tbody id="data-assignedTo">

             </tbody>
            </table>
            <div id="pagination-container-to"></div>
          </div>
        </div>
        <input type="radio" name="tabs" id="tabtwo">
        <label for="tabtwo">Assigned By</label>
        <div class="tab p-0">
          <div class="table-section">
            <table class="table table-bordered responsive">
              <thead>
                <tr>
                  <th><div class="form-check">
                      <input class="form-check-input parentcheck" name="chk" type="checkbox" value="" id="myCheckBy" onClick="selects()" >
                      <label class="form-check-label" for="myCheck"> </label>
                    </div></th>
                  <th>TASK ID</th>
                  <th>NAME OF THE TASK</th>
                  <th>ASSIGNED BY</th>
                  <th>END DATE</th>
                  <th>STATUS</th>
                  <th class="text-center">ACTIONS</th>
                </tr>
              </thead>
              <tbody id="data-assignedBy">

              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
$( document ).ready(function() {
  if($( "#pagination-container-to" ).length > 0) {
    $('#pagination-container-to').pagination({
      dataSource: 'https://reqres.in/api/users',
      locator: 'data',
      totalNumberLocator: function(response) {
        return response.total;
      },
      alias: {
        pageNumber: 'page',
        pageSize: 'per_page'
      },  
      pageSize: 5,
      ajax: {
        beforeSend: function() {
          //Loading Message
          //$('#data-assignedTo').html('<tr><td class="text-center" colspan="3">Loading data from Fake Json...</td></tr>');
        },
        complete: function(jqXHR, textStatus) {
          if (jqXHR.status === 200 || jqXHR.readyState === 0 || jqXHR.status === 0) {
            return false; // do nothing
          } else if (jqXHR && jqXHR.status === 403) {
            window.location.href = window.location.href.split('/').slice(0, 3).join('/') + '/login';
          } else {
            alert('error');
          }
        },    
      },
      callback: function(data, pagination) {
        var html = template(data);
        $('#data-assignedTo').html(html);
        $('#data-assignedBy').html(html);
      }
    });
  }
});
/* 
  Pagination 
  Function: pagination->template
  Description: on fly change the appearance  
*/
function template(data) {
  var html = '';
  $.each(data, function(index, item) {
    html += '<tr>';
    
    html += `
    <td>
      <div class="form-check">
        <input class="form-check-input" name="chk" type="checkbox" value="`+ item.id +`" id="chk_`+ item.id +`">
        <label class="form-check-label" for="chk_`+ item.id +`"> </label>
      </div>
    </td>
    `;
    html += '<td><span class="badge bg-success gridTaskID">#'+ item.id +'</span></td>';
    html += '<td>'+ item.email +'</td>';
    html += '<td>'+ item.first_name + ' ' + item.last_name +'</td>';
    html += '<td>'+ (randomDate(new Date(2012, 0, 1), new Date())) +'</td>';
    html += '<td>'+ randomStatus() +'</td>';
    html += `
      <td class="text-center">
      <div class="dropdown ahide">
        <button class="btn dropdown-toggle dbtn btn-light" type="button" id="dropdownMenuButton3" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="fas fa-ellipsis-v"></i></button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton3">
          <li><a class="dropdown-item green" href="#taskdetails">Edit</a></li>
          <li><a class="dropdown-item red" href="#">Disable</a></li>
          <li><a class="dropdown-item red" href="#delete">Delete</a></li>
        </ul>
      </div>
      </td>
    `;
    html += '</tr>';
  });
  html += '';
  return html;
}

/*====================================================================================*/
/* FOR TESTING PURPOSE DO NOT USE BELOW CODE FOR PRODUCTION*/
/*====================================================================================*/
function randomDate(start, end) {
  //randomDate(new Date(2012, 0, 1), new Date())
  return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime())).toISOString().slice(0, 10);
}
function randomStatus(){
  var statusCode = Math.floor(Math.random() * 2);
  if(statusCode == 0) {
    return '<span class="badge bg-warning">On Hold</span>';
  }
  return '<span class="badge bg-success">Active</span>';
}
/*====================================================================================*/
/*====================================================================================*/
</script>



<div id="taskdetails" class="overlay">
  <div class="popup extra-popup p-0"> <a class="close" href="#">&times;</a>
    <div class="row">
      <div class="col-md-8">
        <div class="gwhite p-3">
          <div class="tp-text mb-3"> <span class="obg">#3214</span> <span class="gborder"> <small>Charptor1</small> <small>Lesson 1.1</small> <small>Topic 1.1</small> </span> <span class="t-time">12:00AM</span> </div>
          <h4>Name of Section</h4>
          <div class="col-md-12 mb-3">
            <textarea id="text" class="ckeditor form-control"  name="wysiwyg-editor"></textarea>
          </div>
          <div class="col-md-12 mb-3">
            <div class="mb-3 buttonupload">
              <label for="files" class="btn"></label>
              <input id="files" type="file" class="form-control">
            </div>
          </div>
          <h4 class="mb-4">Comments</h4>
          <div class="col-md-12 mb-3 comments">
            <h4>Sri harsha raj kumar <span>A minute ago</span></h4>
            <div class="add-comment"> <img src="../assets/images/Ellipse10.png">
              <p>Lorem Ipsum Generator. Generate lorem ipsum in paragraphs, words or sentences. Italic and bold tags.Generates passages of lorem ipsum text suitable for use as placeholder copy in web pages, graphics, and more.</p>
            </div>
          </div>
        </div>
        <div class="white-bg box-shadow p-3">
          <div class="col-md-12 mb-3 comments">
            <div class="add-comment"> <img src="../assets/images/Ellipse10.png">
              <textarea class="form-control" placeholder="Add a comment"></textarea>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="assign-details p-3 pl-0">
          <h4>Details</h4>
          <div class="row mb-3">
            <div class="col-md-6 assign-user-icon">
              <h6>Assigned To</h6>
            </div>
            <div class="col-md-6 assign-user">
              <div class="drop-down">
                <select name="options">
                  <option class="nl" value="nl"  
     style="background-image:url('../assets/images/member1.png');">Harsha</option>
                  <option class="n2" value="n2" 
     style="background-image:url('../assets/images/member2.png');">Anil</option>
                  <option class="n3" value="n3" 
     style="background-image:url('../assets/images/member3.png');">Vishal</option>
                </select>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-6 assign-pri-icon">
              <h6>Periority</h6>
            </div>
            <div class="col-md-6 priority">
              <div class="select_wrap">
                  <ul class="default_option">
                    <li>
                      <div class="option high">
                        <div class="icon"></div>
                        <p>High</p>
                      </div>
                    </li>
                  </ul>
                  <ul class="select_ul">
                    <li>
                      <div class="option high">
                        <div class="icon"></div>
                        <p>High</p>
                      </div>
                    </li>
                    <li>
                      <div class="option medium">
                        <div class="icon"></div>
                        <p>Medium</p>
                      </div>
                    </li>
                    <li>
                      <div class="option low">
                        <div class="icon"></div>
                        <p>Low</p>
                      </div>
                    </li>                    
                  </ul>
                </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-6 assign-date-icon">
              <h6>Start Date</h6>
            </div>
            <div class="col-md-6 date">
              <div class="dropdown-date">
                <input type="date" id="start" name="start"
                           value="2018-07-22"
                           min="2018-01-01" max="2018-12-31">
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-6 assign-date-icon">
              <h6>End Date</h6>
            </div>
            <div class="col-md-6 date">
              <div class="dropdown-date">
                <input type="date" id="start" name="end"
                           value="2018-07-22"
                           min="2018-01-01" max="2018-12-31">
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-6 assign-status-icon">
              <h6>Status</h6>
            </div>
            <div class="col-md-6 status p-0"> <span class="s-active"><a href="#">Active</a></span> <span class="s-onhold"><a href="#">On hold</a></span> <span class="s-done"><a href="#">Done</a></span> </div>
          </div>
          <div class="col-12 pt-3 pb-3 wauto assign-btn"> <span class="border-btn nbtn"><a href="#">
            <button id="add-role-cancel">Cancel</button>
            </a></span> <span class="orange-btn nbtn"><a href="#">
            <button id="add-role">Update Task</button>
            </a></span> </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="delete" class="overlay">
  <div class="popup"> <a class="close" href="#">×</a>
    <form method="get" class="pop-form">
      <div class="row">
        <div class="col-md-12 text-center mb-2"> <img src="../assets/images/delete.png"> </div>
        <div class="col-md-12 text-center mb-2">
          <p>Are you sure you want to delete it </p>
        </div>
      </div>
      <div class="row">
        <div class="col-12 pt-3 pb-3 wauto text-center"> <span class="dborder-btn nbtn"><a href="#">
          <button>Cancel</button>
          </a></span> <span class="danger-btn nbtn"><a href="#">
          <button>Delete</button>
          </a></span> </div>
      </div>
    </form>
  </div>
</div>

<script>
  $(".default_option").click(function () {
    $(this).parent().toggleClass("active");
  });
  
  $(".select_ul li").click(function () {
    var currentele = $(this).html();
    $(".default_option li").html(currentele);
    $(this).parents(".select_wrap").removeClass("active");
  });  
</script>
<script>
  jQuery().ready(function() {   
 /* Custom select design */     
 jQuery('.drop-down').append('<div class="button"></div>');     
 jQuery('.drop-down').append('<ul class="select-list select-list-1"></ul>');     
 jQuery('.drop-down select option').each(function() {   
 var bg = jQuery(this).css('background-image');     
 jQuery('.select-list-1').append('<li class="clsAnchor"><span value="' + jQuery(this).val() + '" class="' + jQuery(this).attr('class') + '" style=background-image:' + bg + '>' + jQuery(this).text() + '</span></li>');    
 });     
 jQuery('.drop-down .button').html('<span style=background-image:' + jQuery('.drop-down select').find(':selected').css('background-image') + '>' + jQuery('.drop-down select').find(':selected').text() + '</span>' + '<a href="javascript:void(0);" class="select-list-link"><i class="fas fa-angle-down"></i></a>');    
 jQuery('.drop-down ul li').each(function() {    
 if (jQuery(this).find('span').text() == jQuery('.drop-down select').find(':selected').text()) {   
 jQuery(this).addClass('active');        
 }       
 });      
 jQuery('.drop-down .select-list-1 span').on('click', function() 
 {           
 var dd_text = jQuery(this).text();   
 var dd_img = jQuery(this).css('background-image');  
 var dd_val = jQuery(this).attr('value');    
 jQuery('.drop-down .button').html('<span style=background-image:' + dd_img + '>' + dd_text + '</span>' + '<a href="javascript:void(0);" class="select-list-link"><i class="fas fa-angle-down"></i></a>');       
 jQuery('.drop-down .select-list-1 span').parent().removeClass('active');     
 jQuery(this).parent().addClass('active');      
 $('.drop-down select[name=options]').val( dd_val );  
 $('.drop-down .select-list-1 li').slideUp();      
 });        
 jQuery('.drop-down .button').on('click','a.select-list-link', function() 
 {       
 jQuery('.drop-down ul li').slideToggle();   
 });      
 /* End */        
 }); 
 </script>